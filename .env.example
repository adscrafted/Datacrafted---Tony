# DataCrafted Environment Configuration
# Copy this file to .env.local and fill in your values

# OpenAI API Configuration (Optional)
# Used for enhanced data analysis and AI-powered column descriptions
# If not provided, the app will use fallback analysis
OPENAI_API_KEY=

# Firebase Configuration (Optional)
# Used for user authentication
# If not provided, the app will work with anonymous users
NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=

# Firebase Admin SDK (Server-side only)
# Required for API route authentication and token verification
# Method 1: Use entire service account JSON (recommended for development)
# Download from Firebase Console > Project Settings > Service Accounts
# FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"...","private_key":"..."}

# Method 2: Use individual credentials (alternative)
# FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# Database Configuration
# SQLite is used by default, no configuration needed
# For production, you can configure a different database URL
DATABASE_URL="file:./prisma/dev.db"

# Application Settings
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# Feature Flags (Optional)
# Control which features are enabled
NEXT_PUBLIC_ENABLE_AI_ANALYSIS=true
NEXT_PUBLIC_ENABLE_EXPORT=true
NEXT_PUBLIC_MAX_FILE_SIZE_MB=50
NEXT_PUBLIC_MAX_ROWS=100000

# =============================================================================
# DEBUG MODE - LOCAL DEVELOPMENT ONLY
# =============================================================================
# ⚠️  CRITICAL SECURITY WARNING ⚠️
#
# DEBUG_MODE completely bypasses ALL authentication and authorization checks.
# This creates a CRITICAL SECURITY VULNERABILITY if enabled in production.
#
# SECURITY SAFEGUARDS:
# - Production environment detection prevents debug mode from being enabled
# - Server-side uses DEBUG_MODE (not NEXT_PUBLIC_) to prevent client access
# - Client-side uses NEXT_PUBLIC_DEBUG_MODE but checks for production environment
# - Fatal error is thrown if DEBUG_MODE is attempted in production
# - Multiple layers of defense-in-depth protection
#
# ONLY enable this in LOCAL DEVELOPMENT:
# - localhost development
# - No cloud hosting environment detected (Vercel, Railway, Render, Fly.io, etc.)
# - NODE_ENV must be 'development'
#
# When DEBUG_MODE is enabled:
# - Server-side: API routes accept any token and return debug user
# - Client-side: Auth context auto-authenticates as debug user
# - All protected routes are accessible without login
# - Debug user: debug@datacrafted.com (uid: debug-user-123)
#
# NEVER SET TO TRUE IN PRODUCTION
# =============================================================================
DEBUG_MODE=false
NEXT_PUBLIC_DEBUG_MODE=false

# =============================================================================
# OPTIONAL: REDIS FOR DISTRIBUTED RATE LIMITING
# =============================================================================
# Recommended for production deployments with multiple instances
# Without Redis, rate limiting uses in-memory store (not suitable for multi-instance)
# Sign up for free at https://upstash.com
# UPSTASH_REDIS_URL=https://your-redis-url.upstash.io
# UPSTASH_REDIS_TOKEN=your-redis-token
# =============================================================================

# =============================================================================
# OPTIONAL: MONITORING & ERROR TRACKING
# =============================================================================
# Sentry for error tracking and monitoring
# Sign up at https://sentry.io
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
#
# Google Analytics for usage analytics
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
# =============================================================================